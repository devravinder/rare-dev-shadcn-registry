{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ErrorBoundary",
  "type": "registry:block",
  "title": "Error Boundary",
  "description": "ErrorBoundary",
  "files": [
    {
      "path": "registry/components/ErrorBoundary.tsx",
      "content": "import { Component, type ErrorInfo, type ReactNode } from \"react\";\ntype FallbackFn = (error: Error) => ReactNode;\ninterface ErrorBoundaryProps {\n  children: ReactNode;\n  fallback?: FallbackFn;\n}\ninterface State {\n  error?: Error;\n}\nexport default class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  State\n> {\n  static displayName = \"ErrorBoundary\";\n\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = {};\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    const { name, message } = error;\n    const { componentStack } = errorInfo;\n    console.log(\"error\", {\n      timestamp: Date.now(),\n      name,\n      message,\n      componentStack,\n    });\n  }\n  render() {\n    const { children, fallback } = this.props;\n    const { error } = this.state;\n    return error ? fallback?.(error) || <div>{error?.message}</div> : children;\n  }\n}\n",
      "type": "registry:component"
    }
  ]
}